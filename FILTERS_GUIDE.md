# Руководство по фильтрам каталога

## Добавленные фильтры

### 1. **Фильтр по цене**
- **Цена от (BYN)** - минимальная цена товара
- **Цена до (BYN)** - максимальная цена товара
- Можно указать только минимум, только максимум, или оба значения
- Пример: от 50 до 200 BYN

### 2. **Фильтр по рейтингу**
- Выбор минимального рейтинга товара
- Варианты: 4+, 3+, 2+, 1+ звезд
- Показывает только товары с рейтингом выше выбранного

### 3. **Фильтр по наличию**
- Чекбокс "Только в наличии"
- При включении показывает только товары, которые есть на складе (stock > 0)

### 4. **Сортировка**
Доступные варианты сортировки:
- **По умолчанию** - без сортировки
- **Цена: по возрастанию** - от дешевых к дорогим
- **Цена: по убыванию** - от дорогих к дешевым
- **По рейтингу** - сначала товары с высоким рейтингом
- **По названию** - в алфавитном порядке

### 5. **Существующие фильтры**
- Категория
- Бренд
- Поиск по названию и описанию

## Как работают фильтры

### Комбинирование фильтров
Все фильтры работают вместе (логика AND):
- Товар должен соответствовать ВСЕМ выбранным фильтрам
- Пример: Категория "Полироль" + Бренд "3M" + Цена от 50 до 100 + Рейтинг 4+ + В наличии

### Сброс фильтров
- Кнопка **"Сбросить все"** очищает все фильтры одновременно
- Возвращает каталог к исходному состоянию

## Отображение рейтинга

### В карточке товара
- Звездочки (⭐) - визуальное представление рейтинга
- Числовое значение - точный рейтинг (например, 4.5)
- Количество отзывов в скобках - (123)

### Пример
```
⭐⭐⭐⭐⭐ 4.8 (156)
```
Означает: рейтинг 4.8 из 5, на основе 156 отзывов

## Технические детали

### Backend (Django)
Добавлены поля в модель Product:
```python
rating = models.DecimalField(max_digits=3, decimal_places=2, default=0.0)
reviews_count = models.PositiveIntegerField(default=0)
```

### Frontend (React)
Новые состояния:
```javascript
const [priceRange, setPriceRange] = useState({ min: '', max: '' });
const [minRating, setMinRating] = useState('');
const [inStockOnly, setInStockOnly] = useState(false);
const [sortBy, setSortBy] = useState('');
```

### Логика фильтрации
1. Фильтрация происходит на клиенте (frontend)
2. Все товары загружаются один раз
3. Фильтры применяются мгновенно без запросов к серверу
4. Сначала фильтрация, затем сортировка

## Добавление рейтингов к товарам

### Автоматически (тестовые данные)
```bash
cd backend
python add_ratings.py
```
Скрипт добавит случайные рейтинги от 3.0 до 5.0 и количество отзывов от 5 до 150.

### Вручную через Django Admin
1. Перейти в админ-панель: http://127.0.0.1:8000/admin/
2. Выбрать товар
3. Указать:
   - **Rating** - от 0.00 до 5.00
   - **Reviews count** - количество отзывов

## Будущие улучшения

### Возможные дополнения:
1. **Фильтр по дате добавления** - новинки
2. **Фильтр по скидкам** - товары со скидкой
3. **Диапазон рейтинга** - от X до Y звезд
4. **Множественный выбор категорий/брендов**
5. **Сохранение фильтров в URL** - для шаринга ссылок
6. **Фильтр по цвету/размеру** - для товаров с вариантами

### Оптимизация:
1. **Пагинация** - для больших каталогов
2. **Lazy loading** - подгрузка товаров при скролле
3. **Кэширование** - сохранение результатов фильтрации
4. **Backend фильтрация** - для очень больших каталогов (1000+ товаров)

## Стилизация

Все стили находятся в `frontend/src/App.css` в секции:
```css
/* ФИЛЬТРЫ КАТАЛОГА */
```

Основные классы:
- `.filters-card` - карточка с фильтрами
- `.filter-select` - выпадающие списки
- `.filter-input` - текстовые поля
- `.filter-checkbox` - чекбоксы
- `.product-rating` - отображение рейтинга
- `.rating-stars` - звездочки
- `.rating-value` - числовое значение
- `.reviews-count` - количество отзывов

## Адаптивность

Фильтры полностью адаптивны:
- **Desktop** (>992px) - все фильтры в 2 строки
- **Tablet** (768-992px) - фильтры перестраиваются
- **Mobile** (<768px) - фильтры в колонку, уменьшенные размеры

## Примеры использования

### Найти дешевые товары в наличии
1. Цена до: 50
2. Только в наличии: ✓
3. Сортировка: Цена по возрастанию

### Найти лучшие товары бренда
1. Бренд: 3M
2. Рейтинг от: 4+
3. Сортировка: По рейтингу

### Найти товары в ценовом диапазоне
1. Цена от: 100
2. Цена до: 300
3. Только в наличии: ✓
